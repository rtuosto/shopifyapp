# Shoptimizer Privacy Policy & Data Protection

Last Updated: December 2024

## Overview

Shoptimizer is a conversion optimization app for Shopify merchants. This document explains what data we collect, how we use it, and how we protect customer privacy.

## Data We Collect

### 1. Product Data (from Shopify Admin API)
- Product titles, descriptions, and prices
- Product images and variant information
- Product handles and IDs

**Purpose**: To generate AI recommendations and run A/B optimizations on product content.

### 2. Order Data (from Shopify Webhooks)
When an order is placed, we receive and process only:
- Order ID and timestamp
- Line items (product IDs, quantities, prices)
- Order total and financial status
- Cart attributes (for session attribution)

**What we DO NOT store:**
- Customer names
- Customer email addresses
- Customer phone numbers
- Shipping or billing addresses
- Payment information
- Customer account information

**Purpose**: To attribute conversions to A/B optimization variants and calculate performance metrics.

### 3. Session Data (Anonymous)
- Anonymous session IDs (UUIDs generated by the storefront)
- Variant assignments (which A/B variant a session was shown)
- Impression timestamps

**Purpose**: To ensure consistent variant delivery and accurate conversion attribution.

## Data Minimization

Shoptimizer follows the principle of data minimization. We only collect the minimum data necessary to:
1. Run A/B optimizations on product content
2. Track conversion metrics for optimization performance
3. Provide AI-powered recommendations

We specifically avoid collecting any personally identifiable information (PII) about shoppers.

## Data Retention

- **Product data**: Retained while the app is installed
- **Optimization data**: Retained while the app is installed
- **Session assignments**: Retained for the duration of active optimizations
- **All data**: Deleted 48 hours after app uninstallation (per shop/redact webhook)

## GDPR Compliance

Shoptimizer implements the following GDPR compliance measures:

### Customer Data Request (Article 15)
When a customer requests their data, we acknowledge the request. Since we do not store customer PII, there is no customer-specific data to export.

### Customer Data Deletion (Article 17)
When a customer requests data deletion, we acknowledge the request. Since we do not store customer PII linked to specific customers, no deletion action is needed.

### Shop Data Deletion (App Uninstall)
When a merchant uninstalls Shoptimizer, we automatically delete all shop-related data within 48 hours, including:
- Products
- Optimizations
- Recommendations
- Session assignments
- Metrics
- All associated records

## Data Security

- All data is stored in encrypted PostgreSQL databases
- API communications use HTTPS/TLS encryption
- Webhook payloads are verified using HMAC-SHA256 signatures
- Access tokens are stored securely and never exposed to the frontend

## Third-Party Services

Shoptimizer uses the following third-party services:
- **OpenAI**: For AI-powered recommendation generation (no customer data is sent)
- **Neon (PostgreSQL)**: For data storage

## Contact

For privacy-related inquiries, please contact the Shoptimizer support team.

---

## Technical Implementation Notes

### Mandatory Compliance Webhooks

Shoptimizer implements the three mandatory GDPR compliance webhooks required by Shopify:

1. **customers/data_request** - `/api/webhooks/customers/data_request`
   - Handles customer data export requests
   - Responds with acknowledgment (no PII stored)

2. **customers/redact** - `/api/webhooks/customers/redact`
   - Handles customer data deletion requests
   - Responds with acknowledgment (no PII stored)

3. **shop/redact** - `/api/webhooks/shop/redact`
   - Handles complete shop data deletion on app uninstall
   - Deletes all shop-related data from the database

All compliance webhooks verify HMAC signatures before processing.
